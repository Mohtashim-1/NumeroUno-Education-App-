{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-11-26 12:44:31.174489",
 "css": ".inner{\r\n     -webkit-transform: rotate(90deg);\r\n}\r\n#p1{\r\n    text-indent: 40em;\r\n}\r\n\r\n.contentone{\r\n     -webkit-transform: rotate(90deg);\r\n}\r\n\r\n.contenttwo{\r\n     -webkit-transform: rotate(90deg);\r\n}\r\n\r\n/*.contentthree{*/\r\n/*     -webkit-transform: rotate(90deg);*/\r\n/*}*/",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Assessment Result",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "{% if doc.custom_certificate %}\n  <img src=\"{{ doc.custom_certificate }}\" style=\"width:100%; height:auto;\">\n{% else %}\n\n<!-- FORCE SMALL PAGE SIZE FOR WKHTMLTOPDF / FRAPPE -->\n<meta name=\"pdfkit-page-size\" content=\"86mm x 54mm\">\n<meta name=\"pdfkit-orientation\" content=\"Landscape\">\n\n<style>\n@page {\n  size: 86mm 54mm;\n  margin: 0;\n}\n\n/* Remove ERPNext padding */\n.print-format {\n  padding: 0 !important;\n  margin: 0 !important;\n}\n\n/* Full ID-card page size */\nhtml, body {\n  margin: 0;\n  padding: 0;\n  font-family: Arial, sans-serif;\n  width: 86mm;\n  height: 54mm;\n}\n\n/* CARD WRAPPER \u2013 FULL PAGE (ATM SIZE) */\n.card {\n  width: 86mm;                 /* full page width */\n  height: 54mm;                /* full page height */\n  padding: 3mm;                /* inner padding */\n  border: 0.5mm solid #0046a6; /* border of the physical card */\n  border-radius: 5px;\n  box-sizing: border-box;\n  margin: 0;\n  overflow: hidden;            /* kuch bhi border se bahir na jaye */\n}\n\n/* CONTENT (Header + Body) */\n.content {\n  display: block;\n}\n\n/* HEADER + BODY TABLES */\n.header-table,\n.body-table {\n  width: 100%;\n  border-collapse: collapse;\n  border-spacing: 0;\n  margin: 0;\n}\n\n/* Header cells */\n.header-table td {\n  vertical-align: middle !important;\n  padding: 0 !important;\n  line-height: 1 !important;\n}\n\n/* Company name */\n.header-title {\n  font-size: 6pt;\n  font-weight: 900;\n  color: #114ad6;\n  text-transform: uppercase;\n  margin: 0 !important;\n  padding: 0 !important;\n  line-height: 1 !important;\n  text-align: left;\n}\n\n/* Logo */\n.header-logo img {\n  width: 8mm;\n  height: 8mm;\n}\n\n/* LINE under company name */\n.header-line td {\n  border-bottom: 0.25mm solid #114ad6;\n  padding: 0;\n  margin: 0;\n  height: 0;\n  line-height: 0;\n}\n\n/* Body table \u2013 thoda kam gap */\n.body-table {\n  margin-top: 0.5mm !important;\n}\n\n/* PHOTO CELL */\n.photo-cell {\n  width: 16mm;\n  vertical-align: top;\n  padding: 0 !important;\n  border: 0.35mm solid #0046a6;\n}\n\n/* INNER BOX ONLY FOR PADDING */\n.photo-box {\n  width: 100%;\n  height: 16mm;   /* reduced from 20mm */\n  box-sizing: border-box;\n}\n\n.photo-box img {\n  width: calc(100% - 1mm);\n  height: calc(100% - 1mm);\n  margin: 0.5mm;\n  display: block;\n  object-fit: cover;   /* ensures proper fit */\n}\n\n/* CENTER TEXT CELL */\n.center-cell {\n  width: 38mm;\n  text-align: center;\n  padding: 0 1mm;\n  vertical-align: top;\n}\n\n/* When NO photo, text left aligned and wider */\n.center-cell.no-photo {\n  text-align: left;\n  padding-left: 1mm;\n}\n\n/* CENTER BLOCK - top gap kam kiya */\n.center-block {\n  margin-top: 2mm;\n}\n\n.center-name {\n  font-size: 7pt;\n  font-weight: bold;\n  margin: 0 0 0.3mm 0;\n}\n\n.center-subtext {\n  font-size: 4.5pt;\n  margin: 0 0 0.4mm 0;\n}\n\n.course-title {\n  font-size: 7pt;\n  font-weight: 900;\n  text-transform: uppercase;\n  margin: 0 0 0.3mm 0;\n}\n\n.course-desc {\n  font-size: 5pt;\n  margin: 0 0 0.6mm 0;\n  word-wrap: break-word;   /* long text line-break safe */\n}\n\n.center-cell p {\n  margin: 0.25mm 0;\n  font-size: 5pt;\n  line-height: 1.1;\n}\n\n/* QR CELL */\n.qr-cell {\n  width: 16mm;          /* thoda chhota for breathing space */\n  text-align: right;\n  vertical-align: top;\n}\n.qr-cell img {\n  width: 16mm;\n  height: 16mm;\n}\n\n/* FOOTER \u2013 niche thoda kam gap + height control */\n.footer {\n  margin-top: 1mm;\n  text-align: center;\n}\n.footer img {\n  width: 102%;        /* thoda abra, border ke andar hi */\n  max-width: 102%;\n  height: 7mm;        /* controlled height */\n  object-fit: contain;\n  display: block;\n  margin: 0 auto;\n  padding: 0 !important;\n}\n</style>\n\n<div class=\"card\">\n\n  <div class=\"content\">\n\n    <!-- HEADER -->\n    <table class=\"header-table\">\n      <tr>\n        <td class=\"header-logo\">\n          <img src=\"/files/Screenshot from 2025-07-15 08-45-36.png\">\n        </td>\n        <td class=\"header-title\">\n          NUMERO UNO TRAINING &amp; CONSULTING LLC\n        </td>\n      </tr>\n      <tr class=\"header-line\">\n        <td colspan=\"2\"></td>\n      </tr>\n    </table>\n\n    <!-- BODY -->\n    {% set instructor = frappe.db.get_value(\"Student Group Instructor\", {\"parent\": doc.student_group}, \"instructor\") %}\n    {% if instructor %}\n      {% set inst = frappe.get_doc(\"Instructor\", instructor) %}\n    {% endif %}\n\n    <table class=\"body-table\">\n      <tr>\n\n        {# First: get student custom photo #}\n{# 1) Try main image from Student master #}\n{% set student_image = frappe.db.get_value(\"Student\", doc.student, \"image\") %}\n\n{# 2) Fallback: photo attached on this document #}\n{% set fallback_photo = doc.student_photo %}\n\n{# 3) Final: priority = Student.image -> doc.student_photo -> None #}\n{% if student_image %}\n    {% set photo = student_image %}\n{% elif fallback_photo %}\n    {% set photo = fallback_photo %}\n{% else %}\n    {% set photo = None %}\n{% endif %}\n\n\n        {% if photo %}\n          <!-- PHOTO AVAILABLE -->\n          <td class=\"photo-cell\">\n            <div class=\"photo-box\">\n              <img src=\"{{ frappe.utils.get_url(photo) }}\">\n            </div>\n          </td>\n\n          <td class=\"center-cell\">\n            <div class=\"center-block\">\n\n              <div class=\"center-name\">{{ doc.student_name }}</div>\n              <div class=\"center-subtext\">\n                has successfully completed the training\n              </div>\n\n              {% set course_doc = frappe.get_doc(\"Course\", doc.course) %}\n\n              <div class=\"course-title\">\n                {{ doc.course }}\n                \n                \n                \n                 {% if doc.custom_level %}\n  {{doc.custom_level}}\n  \n  {% else %}\n  \n  {% endif %}\n  \n  \n              </div>\n\n              {% if course_doc.description %}\n                <div class=\"course-desc\">\n                  {{ course_doc.description }}\n                </div>\n              {% endif %}\n\n              <p><strong>No:</strong> {{ doc.name }}</p>\n              <p><strong>Customer:</strong> {{ frappe.db.get_value(\"Student\", doc.student, \"customer_name\") }}</p>\n\n              {% if doc.custom_opito_learner_no %}\n                <p><strong>Learner No:</strong> {{ doc.custom_opito_learner_no }}</p>\n              {% endif %}\n              \n              {% if doc.custom_unique_certificate_no %}\n                <p><strong>Unique Certificate No:</strong> {{ doc.custom_unique_certificate_no }}</p>\n              {% endif %}\n\n              {% if inst and inst.instructor_name %}\n                <p><strong>Instructor:</strong> {{ inst.instructor_name }}</p>\n              {% endif %}\n\n              {% if doc.course_start_date %}\n                <p><strong>Course Start Date:</strong> {{ frappe.utils.formatdate(doc.course_start_date) }}</p>\n              {% endif %}\n\n              {% if doc.certificate_validity_date %}\n                <p><strong>Validity Date:</strong> {{ frappe.utils.formatdate(doc.certificate_validity_date) }}</p>\n              {% endif %}\n\n            </div>\n          </td>\n\n        {% else %}\n          <!-- NO PHOTO -->\n          <td class=\"center-cell no-photo\" colspan=\"2\">\n            <div class=\"center-block\">\n\n              <div class=\"center-name\">{{ doc.student_name }}</div>\n              <div class=\"center-subtext\">\n                has successfully completed the training\n              </div>\n\n              {% set course_doc = frappe.get_doc(\"Course\", doc.course) %}\n\n              <div class=\"course-title\">\n                {{ doc.course }}\n                \n                 {% if doc.custom_level %}\n  {{doc.custom_level}}\n  \n  {% else %}\n  \n  {% endif %}\n              </div>\n\n              {% if course_doc.description %}\n                <div class=\"course-desc\">\n                  {{ course_doc.description }}\n                </div>\n              {% endif %}\n\n              <p><strong>No:</strong> {{ doc.name }}</p>\n              <p><strong>Customer:</strong> {{ frappe.db.get_value(\"Student\", doc.student, \"customer_name\") }}</p>\n\n              {% if doc.custom_opito_learner_no %}\n                <p><strong>Learner No:</strong> {{ doc.custom_opito_learner_no }}</p>\n              {% endif %}\n              \n              {% if doc.custom_unique_certificate_no %}\n                <p><strong>Unique Certificate Number:</strong> {{ doc.custom_unique_certificate_no }}</p>\n              {% endif %}\n\n              {% if inst and inst.instructor_name %}\n                <p><strong>Instructor:</strong> {{ inst.instructor_name }}</p>\n              {% endif %}\n\n              {% if doc.course_start_date %}\n                <p><strong>Course Start Date:</strong> {{ frappe.utils.formatdate(doc.course_start_date) }}</p>\n              {% endif %}\n\n              {% if doc.certificate_validity_date %}\n                <p><strong>Validity Date:</strong> {{ frappe.utils.formatdate(doc.certificate_validity_date) }}</p>\n              {% endif %}\n\n            </div>\n          </td>\n        {% endif %}\n\n        <!-- QR (always on right) -->\n        <td class=\"qr-cell\">\n          {% set verify_url = frappe.utils.get_url() ~ \"/certificate-verification?cert=\" ~ doc.name %}\n          <img src=\"https://barcode.tec-it.com/barcode.ashx?data={{ verify_url|urlencode }}&code=QRCode&dpi=150\">\n        </td>\n\n      </tr>\n    </table>\n\n  </div>\n\n  <!-- FOOTER -->\n  <div class=\"footer\">\n    <img src=\"/files/FOOTER.png\">\n  </div>\n\n</div>\n\n{% endif %}\n",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-12-15 10:45:25.502127",
 "modified_by": "Administrator",
 "module": "Numerouno",
 "name": "Student ATM Card",
 "owner": "Administrator",
 "page_number": "Hide",
 "pdf_generator": "wkhtmltopdf",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}