{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-04-29 23:45:21.665844",
 "css": ".col-1{\n      width: 50%; float: left; font-weight: bold;\n      }\n.col-2{\nwidth: 50%; float: right; font-weight: bold;}\t\np{ font-size: 12px; }\n\ntable, th, td {\n  border: 1px solid black;\n}\n  ",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Student Group",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "{# --- Build unique date list from all attendance records for all students/groups --- #}\n{% set all_dates = [] %}\n{% for row in doc.student %}\n    {% for group in doc.select_student_group %}\n        {% set attendance_dates = frappe.get_all(\n            \"Student Attendance\",\n            filters={\n                \"student\": row.student,\n                \"student_group\": group.student_group,\n                \"docstatus\": 1\n            },\n            fields=[\"date\"],\n            order_by=\"date\"\n        ) %}\n        {% for att in attendance_dates %}\n            {% if att.date not in all_dates %}\n                {% set _ = all_dates.append(att.date) %}\n            {% endif %}\n        {% endfor %}\n    {% endfor %}\n{% endfor %}\n{% set date_list = all_dates|sort %}\n\n<table width=\"100%\" style=\"border:1px solid black;margin-top:5%\">\n    <tr>\n        <th width=\"10%\">S.No</th>\n        <th>Name Of the Delegate</th>\n        {% for d in date_list %}\n            <th style=\"width:10%\">{{ frappe.utils.formatdate(d) }}</th>\n        {% endfor %}\n        <th>Result</th>\n        <th>Card Received</th>\n    </tr>\n    {% set count = [] %}\n    {% for row in doc.student %}\n        {% for group in doc.select_student_group %}\n            {% set _ = count.append(1) %}\n            <tr>\n                <td>{{ count | length }}</td>\n                <td>{{ row.student_name }}</td>\n                {% for d in date_list %}\n                    {% set att_data = frappe.db.get_value(\n                        \"Student Attendance\",\n                        {\n                            \"date\": d,\n                            \"student\": row.student,\n                            \"student_group\": group.student_group,\n                            \"docstatus\": 1\n                        },\n                        [\"status\", \"custom_student_signature\"]\n                    ) %}\n                    <td style=\"text-align:center; vertical-align:middle;\">\n                        {% if att_data %}\n                            {% set status = att_data[0] %}\n                            {% set sig = att_data[1] %}\n                            {% if status == \"Present\" %}\n                                {% if sig %}\n                                    <img src=\"{{ sig }}\"\n                                         style=\"max-width: 100px; max-height: 40px; object-fit: contain; display: inline-block;\" \n                                         alt=\"Signature\" /><br>\n                                {% endif %}\n                                Present\n                            {% else %}\n                                Absent\n                            {% endif %}\n                        {% else %}\n                            A\n                        {% endif %}\n                    </td>\n                {% endfor %}\n                <td></td>\n                {# Student Card Signature #}\n                {% set s_card_name = frappe.db.get_value(\"Student Card\", {\n                    \"student\": row.student,\n                    \"student_group\": group.student_group,\n                    \"docstatus\": 1\n                }) %}\n                {% if s_card_name %}\n                    {% set s_card = frappe.get_doc(\"Student Card\", s_card_name) %}\n                {% else %}\n                    {% set s_card = None %}\n                {% endif %}\n                <td>\n                    {% if s_card and s_card.student_signature %}\n                        <img src=\"{{ s_card.student_signature }}\"\n                             style=\"max-width: 100px; max-height: 40px; object-fit: contain; display: inline-block;\" \n                             alt=\"Signature\" />\n                    {% else %}\n                        No Signature\n                    {% endif %}\n                </td>\n            </tr>\n        {% endfor %}\n    {% endfor %}\n</table>",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2026-01-29 18:11:10.947179",
 "modified_by": "Administrator",
 "module": "Numerouno",
 "name": "Attendance Report",
 "owner": "Administrator",
 "page_number": "Hide",
 "pdf_generator": "wkhtmltopdf",
 "print_designer": 0,
 "print_designer_template_app": "print_designer",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_for": "DocType",
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}